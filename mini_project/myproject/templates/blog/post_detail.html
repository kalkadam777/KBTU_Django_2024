{% extends 'main.html'%}
{% block content%}
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>
    <p>by {{ post.author.username }} on {{ post.created_at }}</p>

    <hr>
    <h2>Comments</h2>
    <ul>
        {% for comment in comments %}
            <li>{{ comment.author.username }}: {{ comment.content }} ({{ comment.created_at }})</li>
        {% empty %}
            <li>No comments yet</li>
        {% endfor %}
    </ul>

    <hr>
    <h3>Add a comment</h3>
    <form method="post">
        {% csrf_token %}
        {{ comment_form.as_p }}
        <button type="submit">Submit</button>
    </form>
    <a href="{% url 'edit_post' post.id %}">Edit</a> |
    <form method="post" action="{% url 'delete_post' post.id %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit">Delete</button>
    </form>
{% endblock%}
